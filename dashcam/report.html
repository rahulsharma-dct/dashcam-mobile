<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>report</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <link rel="stylesheet" href="/account-settings/css/header.css" />
    <link rel="stylesheet" href="report.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
  </head>
  <body style="margin: 0">
    <div class="device-container">
      <div class="device-topbar">
        <a href="/">
          <button id="closeSidebar" class="icon-button-2">
            <!-- Back Arrow -->
            <svg
              width="14"
              height="12"
              viewBox="0 0 14 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.293945 5.29414C-0.0966797 5.68477 -0.0966797 6.31914 0.293945 6.70977L5.29395 11.7098C5.68457 12.1004 6.31895 12.1004 6.70957 11.7098C7.1002 11.3191 7.1002 10.6848 6.70957 10.2941L3.4127 7.00039H13.0002C13.5533 7.00039 14.0002 6.55352 14.0002 6.00039C14.0002 5.44727 13.5533 5.00039 13.0002 5.00039H3.41582L6.70645 1.70664C7.09707 1.31602 7.09707 0.681641 6.70645 0.291016C6.31582 -0.0996094 5.68145 -0.0996094 5.29082 0.291016L0.29082 5.29102L0.293945 5.29414Z"
                fill="#5D5D5D"
              />
            </svg>
          </button>
        </a>
        <div class="device-title">Alert Report</div>
        <div class="device-user">
          <svg
            width="16"
            height="16"
            viewBox="0 0 14 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7 8C8.06087 8 9.07828 7.57857 9.82843 6.82843C10.5786 6.07828 11 5.06087 11 4C11 2.93913 10.5786 1.92172 9.82843 1.17157C9.07828 0.421427 8.06087 0 7 0C5.93913 0 4.92172 0.421427 4.17157 1.17157C3.42143 1.92172 3 2.93913 3 4C3 5.06087 3.42143 6.07828 4.17157 6.82843C4.92172 7.57857 5.93913 8 7 8ZM5.57188 9.5C2.49375 9.5 0 11.9937 0 15.0719C0 15.5844 0.415625 16 0.928125 16H13.0719C13.5844 16 14 15.5844 14 15.0719C14 11.9937 11.5063 9.5 8.42813 9.5H5.57188Z"
              fill="#27B9CD"
            />
          </svg>

          <span class="device-badge">3</span>
        </div>
      </div>

      <div class="alert-panel">
        <label class="alert-label">Date Range:</label>
        <div class="alert-date-row">
          <input
            type="text"
            class="alert-date-input"
            value="08/04/2025 to 08/10/2025"
            readonly
          />
          <span class="alert-date-icon">
            <svg
              width="21"
              height="22"
              viewBox="0 0 21 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.8846 5.07617L5.11538 5.07617C4.22323 5.07617 3.5 5.7994 3.5 6.69156L3.5 16.3839C3.5 17.276 4.22323 17.9992 5.11538 17.9992L15.8846 17.9992C16.7768 17.9992 17.5 17.276 17.5 16.3839L17.5 6.69156C17.5 5.7994 16.7768 5.07617 15.8846 5.07617Z"
                stroke="#BBBBBB"
                stroke-linejoin="round"
              />
              <path
                d="M11.8463 11.0002C12.2923 11.0002 12.654 10.6385 12.654 10.1925C12.654 9.74638 12.2923 9.38477 11.8463 9.38477C11.4002 9.38477 11.0386 9.74638 11.0386 10.1925C11.0386 10.6385 11.4002 11.0002 11.8463 11.0002Z"
                fill="#BBBBBB"
              />
              <path
                d="M14.5384 11.0002C14.9845 11.0002 15.3461 10.6385 15.3461 10.1925C15.3461 9.74638 14.9845 9.38477 14.5384 9.38477C14.0923 9.38477 13.7307 9.74638 13.7307 10.1925C13.7307 10.6385 14.0923 11.0002 14.5384 11.0002Z"
                fill="#BBBBBB"
              />
              <path
                d="M11.8463 13.6916C12.2923 13.6916 12.654 13.3299 12.654 12.8839C12.654 12.4378 12.2923 12.0762 11.8463 12.0762C11.4002 12.0762 11.0386 12.4378 11.0386 12.8839C11.0386 13.3299 11.4002 13.6916 11.8463 13.6916Z"
                fill="#BBBBBB"
              />
              <path
                d="M14.5384 13.6916C14.9845 13.6916 15.3461 13.3299 15.3461 12.8839C15.3461 12.4378 14.9845 12.0762 14.5384 12.0762C14.0923 12.0762 13.7307 12.4378 13.7307 12.8839C13.7307 13.3299 14.0923 13.6916 14.5384 13.6916Z"
                fill="#BBBBBB"
              />
              <path
                d="M6.4615 13.6916C6.90758 13.6916 7.26919 13.3299 7.26919 12.8839C7.26919 12.4378 6.90758 12.0762 6.4615 12.0762C6.01542 12.0762 5.65381 12.4378 5.65381 12.8839C5.65381 13.3299 6.01542 13.6916 6.4615 13.6916Z"
                fill="#BBBBBB"
              />
              <path
                d="M9.15388 13.6916C9.59996 13.6916 9.96158 13.3299 9.96158 12.8839C9.96158 12.4378 9.59996 12.0762 9.15388 12.0762C8.70781 12.0762 8.34619 12.4378 8.34619 12.8839C8.34619 13.3299 8.70781 13.6916 9.15388 13.6916Z"
                fill="#BBBBBB"
              />
              <path
                d="M6.4615 16.3849C6.90758 16.3849 7.26919 16.0233 7.26919 15.5772C7.26919 15.1311 6.90758 14.7695 6.4615 14.7695C6.01542 14.7695 5.65381 15.1311 5.65381 15.5772C5.65381 16.0233 6.01542 16.3849 6.4615 16.3849Z"
                fill="#BBBBBB"
              />
              <path
                d="M9.15388 16.3849C9.59996 16.3849 9.96158 16.0233 9.96158 15.5772C9.96158 15.1311 9.59996 14.7695 9.15388 14.7695C8.70781 14.7695 8.34619 15.1311 8.34619 15.5772C8.34619 16.0233 8.70781 16.3849 9.15388 16.3849Z"
                fill="#BBBBBB"
              />
              <path
                d="M11.8463 16.3849C12.2923 16.3849 12.654 16.0233 12.654 15.5772C12.654 15.1311 12.2923 14.7695 11.8463 14.7695C11.4002 14.7695 11.0386 15.1311 11.0386 15.5772C11.0386 16.0233 11.4002 16.3849 11.8463 16.3849Z"
                fill="#BBBBBB"
              />
              <path
                d="M6.19238 4L6.19238 5.07692M14.8078 4L14.8078 5.07692"
                stroke="#BBBBBB"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M17.5 7.76953L3.5 7.76953"
                stroke="#BBBBBB"
                stroke-linejoin="round"
              />
            </svg>
          </span>
        </div>
        <label class="alert-label" style="margin-top: 13px">Dashcam:</label>
        <div class="alert-select-row">
          <select class="alert-select-input">
            <option>Select Device</option>
          </select>
          <span class="alert-select-icon">
            <svg
              width="11"
              height="6"
              viewBox="0 0 11 6"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.5 1L5.5 5L1.5 1"
                stroke="#BBBBBB"
                stroke-width="1.33333"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </span>
        </div>
        <button class="alert-submit-btn">Submit</button>

        <!-- Collapsible Report Entries -->
        <div class="alert-reports-container"></div>
      </div>
    </div>
  </body>
  <script>
    const reportsData = [
      {
        date: "August 04, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Lorem Ipsum",
          Latitude: "33.4979°N",
          Longitude: "111.9286°W",
          Location: "7014 E Camelback Rd, Scottsdale, AZ 85251",
          Speed: "53mph",
          "Available Photo/Videos": "5+",
        },
      },
      {
        date: "August 05, 2025",
        device: "Dashcam B",
        details: {
          "Event Name": "Over Speeding",
          Latitude: "34.0522°N",
          Longitude: "118.2437°W",
          Location: "Los Angeles, CA",
          Speed: "67mph",
          "Available Photo/Videos": "2",
        },
      },
      {
        date: "August 06, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Harsh Braking",
          Latitude: "36.1699°N",
          Longitude: "115.1398°W",
          Location: "Las Vegas, NV",
          Speed: "40mph",
          "Available Photo/Videos": "1",
        },
      },
      {
        date: "August 07, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Sharp Turn",
          Latitude: "40.7128°N",
          Longitude: "74.0060°W",
          Location: "New York, NY",
          Speed: "32mph",
          "Available Photo/Videos": "3",
        },
      },
      {
        date: "August 08, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Idling Detected",
          Latitude: "41.8781°N",
          Longitude: "87.6298°W",
          Location: "Chicago, IL",
          Speed: "0mph",
          "Available Photo/Videos": "0",
        },
      },
      {
        date: "August 09, 2025",
        device: "Dashcam B",
        details: {
          "Event Name": "Night Driving",
          Latitude: "29.7604°N",
          Longitude: "95.3698°W",
          Location: "Houston, TX",
          Speed: "45mph",
          "Available Photo/Videos": "4",
        },
      },
      {
        date: "August 10, 2025",
        device: "Dashcam B",
        details: {
          "Event Name": "Geofence Exit",
          Latitude: "37.7749°N",
          Longitude: "122.4194°W",
          Location: "San Francisco, CA",
          Speed: "28mph",
          "Available Photo/Videos": "1",
        },
      },
      {
        date: "August 11, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Geofence Entry",
          Latitude: "47.6062°N",
          Longitude: "122.3321°W",
          Location: "Seattle, WA",
          Speed: "36mph",
          "Available Photo/Videos": "2",
        },
      },
      {
        date: "August 12, 2025",
        device: "Dashcam C",
        details: {
          "Event Name": "Distracted Driving",
          Latitude: "39.7392°N",
          Longitude: "104.9903°W",
          Location: "Denver, CO",
          Speed: "55mph",
          "Available Photo/Videos": "6",
        },
      },
      {
        date: "August 13, 2025",
        device: "Dashcam C",
        details: {
          "Event Name": "Collision Warning",
          Latitude: "32.7157°N",
          Longitude: "117.1611°W",
          Location: "San Diego, CA",
          Speed: "60mph",
          "Available Photo/Videos": "8",
        },
      },
    ];
    const reportsData = [
      {
        date: "August 04, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Lorem Ipsum",
          Latitude: "33.4979°N",
          Longitude: "111.9286°W",
          Location: "7014 E Camelback Rd, Scottsdale, AZ 85251",
          Speed: "53mph",
          "Available Photo/Videos": "5+",
        },
      },
      {
        date: "August 05, 2025",
        device: "Dashcam B",
        details: {
          "Event Name": "Over Speeding",
          Latitude: "34.0522°N",
          Longitude: "118.2437°W",
          Location: "Los Angeles, CA",
          Speed: "67mph",
          "Available Photo/Videos": "2",
        },
      },
      {
        date: "August 06, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Harsh Braking",
          Latitude: "36.1699°N",
          Longitude: "115.1398°W",
          Location: "Las Vegas, NV",
          Speed: "40mph",
          "Available Photo/Videos": "1",
        },
      },
      {
        date: "August 07, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Sharp Turn",
          Latitude: "40.7128°N",
          Longitude: "74.0060°W",
          Location: "New York, NY",
          Speed: "32mph",
          "Available Photo/Videos": "3",
        },
      },
      {
        date: "August 08, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Idling Detected",
          Latitude: "41.8781°N",
          Longitude: "87.6298°W",
          Location: "Chicago, IL",
          Speed: "0mph",
          "Available Photo/Videos": "0",
        },
      },
      {
        date: "August 09, 2025",
        device: "Dashcam B",
        details: {
          "Event Name": "Night Driving",
          Latitude: "29.7604°N",
          Longitude: "95.3698°W",
          Location: "Houston, TX",
          Speed: "45mph",
          "Available Photo/Videos": "4",
        },
      },
      {
        date: "August 10, 2025",
        device: "Dashcam B",
        details: {
          "Event Name": "Geofence Exit",
          Latitude: "37.7749°N",
          Longitude: "122.4194°W",
          Location: "San Francisco, CA",
          Speed: "28mph",
          "Available Photo/Videos": "1",
        },
      },
      {
        date: "August 11, 2025",
        device: "Dashcam A",
        details: {
          "Event Name": "Geofence Entry",
          Latitude: "47.6062°N",
          Longitude: "122.3321°W",
          Location: "Seattle, WA",
          Speed: "36mph",
          "Available Photo/Videos": "2",
        },
      },
      {
        date: "August 12, 2025",
        device: "Dashcam C",
        details: {
          "Event Name": "Distracted Driving",
          Latitude: "39.7392°N",
          Longitude: "104.9903°W",
          Location: "Denver, CO",
          Speed: "55mph",
          "Available Photo/Videos": "6",
        },
      },
      {
        date: "August 13, 2025",
        device: "Dashcam C",
        details: {
          "Event Name": "Collision Warning",
          Latitude: "32.7157°N",
          Longitude: "117.1611°W",
          Location: "San Diego, CA",
          Speed: "60mph",
          "Available Photo/Videos": "8",
        },
      },
    ];

    const deviceSelect = document.querySelector(".alert-select-input");
    const container = document.querySelector(".alert-reports-container");
    const deviceSelect = document.querySelector(".alert-select-input");
    const container = document.querySelector(".alert-reports-container");

    // Get unique devices
    const devices = [
      ...new Set(reportsData.map((r) => r.device).filter(Boolean)),
    ];
    // Get unique devices
    const devices = [
      ...new Set(reportsData.map((r) => r.device).filter(Boolean)),
    ];

    // Populate select
    devices.forEach((device) => {
      const option = document.createElement("option");
      option.value = device;
      option.textContent = device;
      deviceSelect.appendChild(option);
    });
    // Populate select
    devices.forEach((device) => {
      const option = document.createElement("option");
      option.value = device;
      option.textContent = device;
      deviceSelect.appendChild(option);
    });

    // Render reports (with optional filter)
    function renderReports(filterDevice = null) {
      container.innerHTML = "";
    // Render reports (with optional filter)
    function renderReports(filterDevice = null) {
      container.innerHTML = "";

      const filteredReports =
        filterDevice && filterDevice !== "Select Device"
          ? reportsData.filter((r) => r.device === filterDevice)
          : reportsData;
      const filteredReports =
        filterDevice && filterDevice !== "Select Device"
          ? reportsData.filter((r) => r.device === filterDevice)
          : reportsData;

      filteredReports.forEach((report) => {
        const section = document.createElement("div");
        section.classList.add("alert-report-section");
      filteredReports.forEach((report) => {
        const section = document.createElement("div");
        section.classList.add("alert-report-section");

        section.innerHTML = `
        section.innerHTML = `
      <div class="alert-report-header">
        <span>${report.date}</span>
        <button class="alert-report-toggle">
          <svg width="20" height="19" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect x="-0.5" y="0.5" width="19" height="17" rx="4.5" transform="matrix(-1 0 0 1 19 0.5)" fill="white"/> <rect x="-0.5" y="0.5" width="19" height="17" rx="4.5" transform="matrix(-1 0 0 1 19 0.5)" stroke="#D7DBE2"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.5678 7.37249C9.68048 7.25984 9.83329 7.19656 9.99262 7.19656C10.1519 7.19656 10.3048 7.25984 10.4174 7.37249L13.8166 10.7716C13.874 10.827 13.9197 10.8933 13.9512 10.9667C13.9827 11.04 13.9993 11.1188 14 11.1986C14.0007 11.2784 13.9855 11.3575 13.9553 11.4313C13.925 11.5052 13.8804 11.5723 13.824 11.6287C13.7676 11.6851 13.7005 11.7297 13.6267 11.7599C13.5528 11.7902 13.4737 11.8054 13.3939 11.8047C13.3141 11.804 13.2353 11.7874 13.162 11.7559C13.0887 11.7244 13.0224 11.6786 12.9669 11.6212L9.99262 8.64694L7.0183 11.6212C6.90498 11.7307 6.7532 11.7913 6.59565 11.7899C6.4381 11.7885 6.2874 11.7253 6.17599 11.6139C6.06458 11.5025 6.00139 11.3518 6.00002 11.1943C5.99865 11.0367 6.05922 10.8849 6.16867 10.7716L9.5678 7.37249Z" fill="#27B9CD"/> </svg>
        </button>
      </div>
      <div class="alert-report-body">
        <div class="alert-row"><span>Device</span><span class="right">${
          report.device || "Unknown"
        }</span></div>
        <div class="alert-row"><span>Device</span><span class="right">${
          report.device || "Unknown"
        }</span></div>
        ${Object.entries(report.details)
          .map(([key, value]) => {
            if (key === "Location") {
              return `<div class="alert-row"><span>${key}</span>
                      <a class="alert-link right" href="#">${value}</a></div>`;
            } else {
              return `<div class="alert-row"><span>${key}</span>
                      <span class="right">${value}</span></div>`;
            }
          })
          .join("")}
      </div>
    `;

        container.appendChild(section);
      });
    }
        container.appendChild(section);
      });
    }

    // Handle toggle
    container.addEventListener("click", (e) => {
      const toggleBtn = e.target.closest(".alert-report-toggle");
      if (toggleBtn) {
        const section = toggleBtn.closest(".alert-report-section");
        section.classList.toggle("open");
        toggleBtn.classList.toggle("active");
      }
    });
    // Handle toggle
    container.addEventListener("click", (e) => {
      const toggleBtn = e.target.closest(".alert-report-toggle");
      if (toggleBtn) {
        const section = toggleBtn.closest(".alert-report-section");
        section.classList.toggle("open");
        toggleBtn.classList.toggle("active");
      }
    });

    // Handle filter
    deviceSelect.addEventListener("change", (e) => {
      renderReports(e.target.value);
    });
    // Handle filter
    deviceSelect.addEventListener("change", (e) => {
      renderReports(e.target.value);
    });

    // Initial render
    renderReports();

    document.addEventListener("DOMContentLoaded", function () {
      const dateRange = document.querySelector(".alert-date-input");

      flatpickr(dateRange, {
        mode: "range",
        dateFormat: "Y-m-d",
        onOpen: function () {
          console.log("Date range clicked");
        },
        onClose: function (selectedDates) {
          if (selectedDates.length === 2) {
            // Format dates to "Month DD, YYYY"
            const options = {
              year: "numeric",
              month: "long",
              day: "2-digit",
            };
            const start = selectedDates[0].toLocaleDateString("en-US", options);
            const end = selectedDates[1].toLocaleDateString("en-US", options);

            // Update the <div class="geo-date-range">
            if (dateRangeDisplay) {
              dateRangeDisplay.textContent = `${start} - ${end}`;
            }

            console.log("Range selected:", start, "-", end);
          }
        },
      });
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</html>
