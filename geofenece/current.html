<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>alert</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <link rel="stylesheet" href="/account-settings/css/header.css" />
    <link rel="stylesheet" href="current.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body style="margin: 0">
    <div class="device-container">
      <div class="device-topbar">
        <button id="closeSidebar" class="icon-button-2">
          <!-- Back Arrow -->
          <svg
            width="14"
            height="12"
            viewBox="0 0 14 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.293945 5.29414C-0.0966797 5.68477 -0.0966797 6.31914 0.293945 6.70977L5.29395 11.7098C5.68457 12.1004 6.31895 12.1004 6.70957 11.7098C7.1002 11.3191 7.1002 10.6848 6.70957 10.2941L3.4127 7.00039H13.0002C13.5533 7.00039 14.0002 6.55352 14.0002 6.00039C14.0002 5.44727 13.5533 5.00039 13.0002 5.00039H3.41582L6.70645 1.70664C7.09707 1.31602 7.09707 0.681641 6.70645 0.291016C6.31582 -0.0996094 5.68145 -0.0996094 5.29082 0.291016L0.29082 5.29102L0.293945 5.29414Z"
              fill="#5D5D5D"
            />
          </svg>
        </button>
        <div class="device-title">Current Geofence Report</div>
        <div class="device-user">
          <svg
            width="16"
            height="16"
            viewBox="0 0 14 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7 8C8.06087 8 9.07828 7.57857 9.82843 6.82843C10.5786 6.07828 11 5.06087 11 4C11 2.93913 10.5786 1.92172 9.82843 1.17157C9.07828 0.421427 8.06087 0 7 0C5.93913 0 4.92172 0.421427 4.17157 1.17157C3.42143 1.92172 3 2.93913 3 4C3 5.06087 3.42143 6.07828 4.17157 6.82843C4.92172 7.57857 5.93913 8 7 8ZM5.57188 9.5C2.49375 9.5 0 11.9937 0 15.0719C0 15.5844 0.415625 16 0.928125 16H13.0719C13.5844 16 14 15.5844 14 15.0719C14 11.9937 11.5063 9.5 8.42813 9.5H5.57188Z"
              fill="#27B9CD"
            />
          </svg>

          <span class="device-badge">3</span>
        </div>
      </div>
      <div class="geo-report-card">
        <div class="geo-form-row">
          <label class="geoform-label">Status:</label>
          <div class="geoform-select-wrap">
            <select class="geoform-select">
              <option>Select Device</option>
            </select>
            <span class="geoform-dropdown-arrow">
              <svg width="20" height="20" fill="none">
                <path
                  d="M7 10L12 15L17 10"
                  stroke="#b9bec7"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </span>
          </div>
        </div>
        <div class="geo-form-row">
          <label class="geoform-label">Geofence:</label>
          <div class="geoform-select-wrap">
            <select class="geoform-select">
              <option>Select Device</option>
            </select>
            <span class="geoform-dropdown-arrow">
              <svg width="20" height="20" fill="none">
                <path
                  d="M7 10L12 15L17 10"
                  stroke="#b9bec7"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </span>
          </div>
        </div>
        <div class="geo-form-row">
          <label class="geoform-label">Subgroup:</label>
          <div class="geoform-select-wrap">
            <select class="geoform-select">
              <option>Select Device</option>
            </select>
            <span class="geoform-dropdown-arrow">
              <svg width="20" height="20" fill="none">
                <path
                  d="M7 10L12 15L17 10"
                  stroke="#b9bec7"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </span>
          </div>
        </div>
        <button class="geoform-submit">View Report</button>

        
      </div>
    </div>
    <script>
  // Sample data for current report
  const geoCars = [
  {
    name: "Sales Car 1",
    device: "Device A",
    geofence: "Geofence 1",
    imei: "220902734",
    status: "Outside Geofence",
    date: "August 04, 2025",
    time: "13:20:15",
    location: "7014 E Camelback Rd, Scottsdale, AZ 85251",
  },
  {
    name: "Sales Car 2",
    device: "Device B",
    geofence: "Geofence 2",
    imei: "220902735",
    status: "Inside Geofence",
    date: "August 04, 2025",
    time: "13:45:10",
    location: "123 Main St, Phoenix, AZ 85001",
  },
  {
    name: "Sales Car 3",
    device: "Device C",
    geofence: "Geofence 1",
    imei: "220902736",
    status: "Inside Geofence",
    date: "August 04, 2025",
    time: "14:10:55",
    location: "456 Elm St, Scottsdale, AZ 85251",
  },
  {
    name: "Sales Car 4",
    device: "Device D",
    geofence: "Geofence 3",
    imei: "220902737",
    status: "Outside Geofence",
    date: "August 05, 2025",
    time: "09:25:30",
    location: "890 Oak St, Tempe, AZ 85281",
  },
  {
    name: "Sales Car 5",
    device: "Device E",
    geofence: "Geofence 2",
    imei: "220902738",
    status: "Inside Geofence",
    date: "August 05, 2025",
    time: "10:15:42",
    location: "234 Pine St, Mesa, AZ 85203",
  },
  {
    name: "Sales Car 6",
    device: "Device F",
    geofence: "Geofence 3",
    imei: "220902739",
    status: "Outside Geofence",
    date: "August 05, 2025",
    time: "11:05:18",
    location: "678 Willow Ave, Chandler, AZ 85225",
  },
];


  const statusSelect = document.querySelectorAll(".geoform-select")[0];
  const geofenceSelect = document.querySelectorAll(".geoform-select")[1];
  const subgroupSelect = document.querySelectorAll(".geoform-select")[2];

  // Populate dropdowns dynamically
  [...new Set(geoCars.map((c) => c.device))].forEach((d) => {
    const option = document.createElement("option");
    option.value = d;
    option.textContent = d;
    statusSelect.appendChild(option);
  });

  [...new Set(geoCars.map((c) => c.geofence))].forEach((g) => {
    const option = document.createElement("option");
    option.value = g;
    option.textContent = g;
    geofenceSelect.appendChild(option);
  });

  // For subgroup, using dummy values
  ["Group 1", "Group 2"].forEach((g) => {
    const option = document.createElement("option");
    option.value = g;
    option.textContent = g;
    subgroupSelect.appendChild(option);
  });

  const container = document.createElement("div");
  container.id = "geoCarContainer";
  document.querySelector(".geo-report-card").appendChild(container);

  function renderCards(filteredCars) {
    container.innerHTML = "";

    filteredCars.forEach((car, index) => {
      const card = document.createElement("div");
      card.className = "geo-car-card" + (index === 0 ? " open" : "");

      card.innerHTML = `
        <div class="geo-car-head">
          <span>${car.name}</span>
          <span class="geo-collapse-arrow">
            <svg width="20" height="19" viewBox="0 0 20 19" fill="none">
              <rect x="-0.5" y="0.5" width="19" height="17" rx="4.5" transform="matrix(-1 0 0 1 19 0.5)" fill="white"/>
              <rect x="-0.5" y="0.5" width="19" height="17" rx="4.5" transform="matrix(-1 0 0 1 19 0.5)" stroke="#D7DBE2"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.5678 7.37249L13.8166 10.7716L6.16867 10.7716L9.5678 7.37249Z" fill="#27B9CD"/>
            </svg>
          </span>
        </div>
        <div class="geo-car-details">
          <div class="geo-car-detail-row"><span>IMEI</span><span>${car.imei}</span></div>
          <div class="geo-car-detail-row"><span>Geofence Name</span><span>${car.geofence}</span></div>
          <div class="geo-car-detail-row"><span>Status</span><span class="${car.status === 'Inside Geofence' ? 'status-green' : 'status-red'}">${car.status}</span></div>
          <div class="geo-car-detail-row"><span>Date</span><span>${car.date}</span></div>
          <div class="geo-car-detail-row"><span>Time</span><span>${car.time}</span></div>
          <div class="geo-car-detail-row"><span>Location</span><span><a href="#" class="geoform-link">${car.location}</a></span></div>
        </div>
      `;

      container.appendChild(card);

      // Toggle details
      card.querySelector(".geo-collapse-arrow").addEventListener("click", () => {
        card.classList.toggle("open");
      });
    });
  }

  renderCards(geoCars);

  // Filter by dropdowns
  document.querySelector(".geoform-submit").addEventListener("click", () => {
    let filtered = geoCars;
    const selectedDevice = statusSelect.value;
    const selectedGeofence = geofenceSelect.value;
    const selectedSubgroup = subgroupSelect.value;

    if (selectedDevice !== "Select Device") {
      filtered = filtered.filter((car) => car.device === selectedDevice);
    }
    if (selectedGeofence !== "Select Device") {
      filtered = filtered.filter((car) => car.geofence === selectedGeofence);
    }
    // Subgroup filtering (dummy)
    if (selectedSubgroup !== "Select Device") {
      filtered = filtered.filter((car, idx) => idx % 2 === 0); // example logic
    }

    renderCards(filtered);
  });

  // Attach toggle on all current + future .geo-collapse-arrow

</script>

  </body>
</html>
